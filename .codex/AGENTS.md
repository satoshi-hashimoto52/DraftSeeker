# ~/.codex/AGENTS.md

## 基本方針
- 環境：macOS（MacBook）+ VS Code
- バージョン管理：GitHub
- 対象：個人開発
- 目的：最小差分・安全・予測可能な変更

---

## 回答言語（重要）
**ユーザーへの説明・回答は原則として日本語で行うこと。**

例外：
- ソースコード
- コマンド
- 識別子（変数名・関数名・型名）
- 既存コメントやエラーメッセージ引用

---

## 言語の自動判定
以下のルールで言語を判断し、適切な作法に従うこと。

- `*.py`, `pyproject.toml`, `requirements.txt` が存在 → **Python**
- `Package.swift`, `*.swift` が存在 → **Swift**
- 両方ある場合 → 対象ファイルの言語を優先
- 判断できない場合 → 作業前に確認する

---

## セキュリティ・情報取り扱い
以下は生成・出力しない。

- APIキー、トークン、秘密鍵、パスワード
- 個人情報（氏名、メール等）
- `.env`, `*.pem`, `*.p12`, `id_rsa` などの内容

必要な場合は必ずダミー値を使用する。
（例：`YOUR_API_KEY_HERE`, `example.com`）

---

## 作業ルール（共通）
- **最小差分**を原則とする
- 無関係な整形・大規模リファクタは行わない
- 明示的な指示なしに仕様・挙動を変更しない
- 不明点があれば推測せず確認する

---

## Python の場合
- 既存スタイルを尊重する
- lint / formatter（ruff, black 等）があれば従う
- 例外を握りつぶさない
- 不要な依存関係を追加しない

---

## Swift の場合
- 既存設計・スタイルを尊重する
- 過剰な抽象化や不要なジェネリクスを避ける
- Concurrency（async/await 等）は既存方針に従う
- 署名・証明書・Xcode設定を勝手に変更しない

---

## 作業を止めて確認すべき条件
- セキュリティ・認証に関わる変更
- 公開API・外部仕様への影響
- 変更範囲が想定より大きくなる場合

---

## 出力時の期待事項
- 何を・なぜ変更したかを**日本語で簡潔に説明**
- 影響範囲や注意点があれば明記
